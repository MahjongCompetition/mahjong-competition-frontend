{"openapi":"3.0.1","info":{"title":"麻将比赛系统 API","description":"麻将比赛管理系统的RESTful API文档。该系统支持玩家管理、团队管理、比赛管理、成绩录入等功能。","contact":{"name":"开发团队","url":"https://github.com/rogister/mahjong-competition","email":"support@mahjongcompetition.com"},"license":{"name":"MIT License","url":"https://opensource.org/licenses/MIT"},"version":"v1.0.0"},"servers":[{"url":"http://localhost:8080","description":"本地开发环境"},{"url":"https://api.mahjongcompetition.com","description":"生产环境"}],"security":[{"bearerAuth":[]}],"tags":[{"name":"比赛状态","description":"比赛状态查询功能，无需认证的公开接口"},{"name":"玩家管理","description":"玩家注册、登录、信息管理等功能"},{"name":"比赛报名","description":"玩家和团队的比赛报名管理功能"},{"name":"管理员功能","description":"管理员登录、创建、查询、更新、删除等功能"},{"name":"比赛规则管理","description":"比赛规则的创建、查询、更新、删除等管理功能"},{"name":"团队管理","description":"团队创建、加入、查询、退出等功能"},{"name":"比赛成绩管理","description":"比赛成绩的录入、查询、更新、删除和统计功能"},{"name":"比赛管理","description":"比赛的创建、查询、更新、删除等功能"},{"name":"晋级管理","description":"个人赛和团队赛的晋级管理功能"}],"paths":{"/api/player/{id}":{"get":{"tags":["玩家管理"],"operationId":"getPlayerById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePlayer"}}}}}},"put":{"tags":["玩家管理"],"operationId":"updatePlayer","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Player"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePlayer"}}}}}},"delete":{"tags":["玩家管理"],"operationId":"deletePlayer","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}}}}},"/api/match-results/{id}":{"get":{"tags":["比赛成绩管理"],"operationId":"getMatchResult","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseMatchResult"}}}}}},"put":{"tags":["比赛成绩管理"],"operationId":"updateMatchResult","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MatchResult"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseMatchResult"}}}}}},"delete":{"tags":["比赛成绩管理"],"operationId":"deleteMatchResult","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}}}}},"/api/competitions/{id}":{"get":{"tags":["比赛管理"],"operationId":"getCompetitionById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseCompetition"}}}}}},"put":{"tags":["比赛管理"],"operationId":"updateCompetition","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Competition"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseCompetition"}}}}}},"delete":{"tags":["比赛管理"],"operationId":"deleteCompetition","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}}}}},"/api/competition-rules/{id}":{"get":{"tags":["比赛规则管理"],"operationId":"getCompetitionRuleById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseCompetitionRule"}}}}}},"put":{"tags":["比赛规则管理"],"operationId":"updateCompetitionRule","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompetitionRule"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseCompetitionRule"}}}}}},"delete":{"tags":["比赛规则管理"],"operationId":"deleteCompetitionRule","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}}}}},"/api/advancement/teams/score":{"put":{"tags":["晋级管理"],"operationId":"updateTeamScore","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTeamRoundStatus"}}}}}}},"/api/advancement/teams/eliminate":{"put":{"tags":["晋级管理"],"operationId":"eliminateTeam","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTeamRoundStatus"}}}}}}},"/api/advancement/players/score":{"put":{"tags":["晋级管理"],"operationId":"updatePlayerScore","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePlayerRoundStatus"}}}}}}},"/api/advancement/players/eliminate":{"put":{"tags":["晋级管理"],"operationId":"eliminatePlayer","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePlayerRoundStatus"}}}}}}},"/api/advancement/competition/{competitionId}/round/{roundNumber}/complete":{"put":{"tags":["晋级管理"],"operationId":"completeRound","parameters":[{"name":"competitionId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"roundNumber","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}}}}},"/api/admin/{id}":{"get":{"tags":["管理员功能"],"operationId":"getAdminById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseAdmin"}}}}}},"put":{"tags":["管理员功能"],"operationId":"updateAdmin","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Admin"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseAdmin"}}}}}},"delete":{"tags":["管理员功能"],"operationId":"deleteAdmin","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}}}}},"/api/teams/leave":{"post":{"tags":["团队管理"],"operationId":"leaveTeam","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}}}}},"/api/teams/join":{"post":{"tags":["团队管理"],"operationId":"joinTeam","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTeam"}}}}}}},"/api/teams/dissolve":{"post":{"tags":["团队管理"],"operationId":"dissolveTeam","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}}}}},"/api/teams/create":{"post":{"tags":["团队管理"],"summary":"创建团队","description":"创建新的团队，当前玩家自动成为队长","operationId":"createTeam","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"},"description":"团队创建信息，包含teamName和maxMembers"}}},"required":true},"responses":{"400":{"description":"创建失败","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTeam"}}}},"200":{"description":"创建成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}},"security":[{"bearerAuth":[]}]}},"/api/player/{id}/change-password":{"post":{"tags":["玩家管理"],"operationId":"changePassword","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePlayer"}}}}}}},"/api/player/register":{"post":{"tags":["玩家管理"],"summary":"玩家注册","description":"注册新的玩家账户","operationId":"registerPlayer","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Player"}}},"required":true},"responses":{"400":{"description":"注册失败","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}},"200":{"description":"注册成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/api/player/login":{"post":{"tags":["玩家管理"],"summary":"玩家登录","description":"玩家使用用户名和密码登录系统","operationId":"loginPlayer","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"description":"登录请求信息，包含username和password"}}},"required":true},"responses":{"401":{"description":"登录失败","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}},"200":{"description":"登录成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/api/player-competition-registrations/register":{"post":{"tags":["比赛报名"],"summary":"个人报名比赛","description":"玩家个人报名参加比赛","operationId":"registerForCompetition","parameters":[{"name":"Authorization","in":"header","description":"JWT认证令牌","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompetitionRegistrationRequest"}}},"required":true},"responses":{"400":{"description":"报名失败","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePlayerCompetitionRegistration"}}}},"200":{"description":"报名成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}},"401":{"description":"未授权","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePlayerCompetitionRegistration"}}}}},"security":[{"bearerAuth":[]}]}},"/api/player-competition-registrations/register-team":{"post":{"tags":["比赛报名"],"operationId":"registerTeamForCompetition","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamCompetitionRegistrationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTeamCompetitionRegistration"}}}}}}},"/api/player-competition-registrations/cancel":{"post":{"tags":["比赛报名"],"operationId":"cancelRegistration","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompetitionRegistrationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}}}}},"/api/match-results":{"post":{"tags":["比赛成绩管理"],"operationId":"createMatchResult","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MatchResultCreateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseMatchResult"}}}}}}},"/api/match-results/validate-scores":{"post":{"tags":["比赛成绩管理"],"operationId":"validateScores","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScoreValidationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseBoolean"}}}}}}},"/api/competitions/create":{"post":{"tags":["比赛管理"],"summary":"创建比赛","description":"创建新的比赛","operationId":"createCompetition","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompetitionCreateRequest"}}},"required":true},"responses":{"400":{"description":"创建失败","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseCompetition"}}}},"200":{"description":"创建成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/api/competition-rules":{"get":{"tags":["比赛规则管理"],"summary":"获取所有比赛规则","description":"获取系统中所有的比赛规则列表","operationId":"getAllCompetitionRules","responses":{"200":{"description":"获取成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}},"post":{"tags":["比赛规则管理"],"summary":"创建比赛规则","description":"创建新的比赛规则","operationId":"createCompetitionRule","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompetitionRule"}}},"required":true},"responses":{"400":{"description":"创建失败","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseCompetitionRule"}}}},"200":{"description":"创建成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}},"401":{"description":"未授权","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseCompetitionRule"}}}}},"security":[{"bearerAuth":[]}]}},"/api/advancement/teams/advance":{"post":{"tags":["晋级管理"],"operationId":"advanceTeamsToRound","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListTeamRoundStatus"}}}}}}},"/api/advancement/players/advance":{"post":{"tags":["晋级管理"],"summary":"个人赛晋级","description":"将指定玩家晋级到指定轮次","operationId":"advancePlayersToRound","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"},"description":"晋级请求，包含competitionId、playerIds、targetRound、initialScore"}}},"required":true},"responses":{"400":{"description":"晋级失败","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListPlayerRoundStatus"}}}},"200":{"description":"晋级成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/api/admin/{id}/change-password":{"post":{"tags":["管理员功能"],"operationId":"changePassword_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}}}}},"/api/admin/login":{"post":{"tags":["管理员功能"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseAdminLoginResponse"}}}}}}},"/api/admin/initialize-super-admin":{"post":{"tags":["管理员功能"],"operationId":"initializeSuperAdmin","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseAdmin"}}}}}}},"/api/admin/create":{"post":{"tags":["管理员功能"],"operationId":"createAdmin","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Admin"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseAdmin"}}}}}}},"/api/player/{id}/status":{"patch":{"tags":["玩家管理"],"operationId":"togglePlayerStatus","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"boolean"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePlayer"}}}}}}},"/api/admin/{id}/toggle-status":{"patch":{"tags":["管理员功能"],"operationId":"toggleAdminStatus","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseAdmin"}}}}}}},"/api/teams/{teamId}/members":{"get":{"tags":["团队管理"],"operationId":"getTeamMembers","parameters":[{"name":"teamId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListTeamMember"}}}}}}},"/api/teams/{teamId}/is-member/{playerId}":{"get":{"tags":["团队管理"],"operationId":"isTeamMember","parameters":[{"name":"teamId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"playerId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseBoolean"}}}}}}},"/api/teams/{teamId}/is-captain/{playerId}":{"get":{"tags":["团队管理"],"operationId":"isCaptain","parameters":[{"name":"teamId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"playerId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseBoolean"}}}}}}},"/api/teams/player/{playerId}":{"get":{"tags":["团队管理"],"operationId":"getTeamByPlayer","parameters":[{"name":"playerId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTeam"}}}}}}},"/api/teams/code/{teamCode}":{"get":{"tags":["团队管理"],"operationId":"getTeamByCode","parameters":[{"name":"teamCode","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTeam"}}}}}}},"/api/teams/captain/{captainId}":{"get":{"tags":["团队管理"],"operationId":"getTeamsByCaptain","parameters":[{"name":"captainId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListTeam"}}}}}}},"/api/player":{"get":{"tags":["玩家管理"],"operationId":"getAllPlayers","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListPlayer"}}}}}}},"/api/player/username/{username}":{"get":{"tags":["玩家管理"],"operationId":"getPlayerByUsername","parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePlayer"}}}}}}},"/api/player/search/nickname":{"get":{"tags":["玩家管理"],"operationId":"searchPlayersByNickname","parameters":[{"name":"nickname","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListPlayer"}}}}}}},"/api/player/search/mahjong-nickname":{"get":{"tags":["玩家管理"],"operationId":"searchPlayersByMahjongNickname","parameters":[{"name":"mahjongNickname","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListPlayer"}}}}}}},"/api/player/qq/{qq}":{"get":{"tags":["玩家管理"],"operationId":"getPlayerByQq","parameters":[{"name":"qq","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePlayer"}}}}}}},"/api/player/profile":{"get":{"tags":["玩家管理"],"summary":"获取玩家信息","description":"获取当前登录玩家的详细信息","operationId":"getPlayerProfile","responses":{"200":{"description":"获取成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}},"401":{"description":"未授权访问","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePlayer"}}}}},"security":[{"bearerAuth":[]}]}},"/api/player/my-teams":{"get":{"tags":["玩家管理"],"operationId":"getMyTeams","parameters":[{"name":"type","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePlayerTeamsResponse"}}}}}}},"/api/player/mahjong/{mahjongId}":{"get":{"tags":["玩家管理"],"operationId":"getPlayerByMahjongId","parameters":[{"name":"mahjongId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePlayer"}}}}}}},"/api/player/check-username":{"get":{"tags":["玩家管理"],"operationId":"checkUsernameAvailability","parameters":[{"name":"username","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseMapStringBoolean"}}}}}}},"/api/player/check-qq":{"get":{"tags":["玩家管理"],"operationId":"checkQqAvailability","parameters":[{"name":"qq","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseMapStringBoolean"}}}}}}},"/api/player/check-mahjong-id":{"get":{"tags":["玩家管理"],"operationId":"checkMahjongIdAvailability","parameters":[{"name":"mahjongId","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseMapStringBoolean"}}}}}}},"/api/player-competition-registrations/player/{playerId}":{"get":{"tags":["比赛报名"],"operationId":"getPlayerRegistrations","parameters":[{"name":"playerId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListPlayerCompetitionRegistration"}}}}}}},"/api/player-competition-registrations/competition/{competitionId}":{"get":{"tags":["比赛报名"],"operationId":"getCompetitionRegistrations","parameters":[{"name":"competitionId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListPlayerCompetitionRegistration"}}}}}}},"/api/player-competition-registrations/check/{playerId}/{competitionId}":{"get":{"tags":["比赛报名"],"operationId":"isPlayerRegistered","parameters":[{"name":"playerId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"competitionId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseBoolean"}}}}}}},"/api/match-results/{id}/ranks":{"get":{"tags":["比赛成绩管理"],"operationId":"getMatchRanks","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListPlayerRank"}}}}}}},"/api/match-results/{id}/detail":{"get":{"tags":["比赛成绩管理"],"operationId":"getMatchResultDetail","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseMatchResultDetail"}}}}}}},"/api/match-results/round-records":{"get":{"tags":["比赛成绩管理"],"operationId":"getRoundRecordsByTime","parameters":[{"name":"competitionId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"roundNumber","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"includeMatchNumber","in":"query","required":false,"schema":{"type":"boolean","default":false}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListMatchResult"}}}}}}},"/api/match-results/round-records/formatted":{"get":{"tags":["比赛成绩管理"],"operationId":"getFormattedRoundRecords","parameters":[{"name":"competitionId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"roundNumber","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListRoundRecordDTO"}}}}}}},"/api/match-results/round-records/detailed":{"get":{"tags":["比赛成绩管理"],"operationId":"getRoundRecordsByTimeAndNumber","parameters":[{"name":"competitionId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"roundNumber","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListMatchResult"}}}}}}},"/api/match-results/round-rankings":{"get":{"tags":["比赛成绩管理"],"operationId":"getRoundPlayerRankings","parameters":[{"name":"competitionId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"roundNumber","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListPlayerRoundRanking"}}}}}}},"/api/match-results/round-rankings/formatted":{"get":{"tags":["比赛成绩管理"],"operationId":"getFormattedRoundPlayerRankings","parameters":[{"name":"competitionId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"roundNumber","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListPlayerRankingDTO"}}}}}}},"/api/match-results/round-player-ranking":{"get":{"tags":["比赛成绩管理"],"operationId":"getPlayerRoundRanking","parameters":[{"name":"competitionId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"roundNumber","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"playerId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePlayerRoundRanking"}}}}}}},"/api/match-results/player-pt-score":{"get":{"tags":["比赛成绩管理"],"operationId":"getPlayerPtScore","parameters":[{"name":"competitionId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"roundNumber","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"playerId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDouble"}}}}}}},"/api/match-results/next-match-number":{"get":{"tags":["比赛成绩管理"],"operationId":"getNextMatchNumber","parameters":[{"name":"competitionId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"roundId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseInteger"}}}}}}},"/api/competitions":{"get":{"tags":["比赛管理"],"operationId":"getAllCompetitions","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListCompetition"}}}}}}},"/api/competitions/type/{competitionType}":{"get":{"tags":["比赛管理"],"operationId":"getCompetitionsByType","parameters":[{"name":"competitionType","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListCompetition"}}}}}}},"/api/competitions/search":{"get":{"tags":["比赛管理"],"operationId":"searchCompetitions","parameters":[{"name":"competitionName","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListCompetition"}}}}}}},"/api/competitions/rule/{ruleId}":{"get":{"tags":["比赛管理"],"operationId":"getCompetitionsByRule","parameters":[{"name":"ruleId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListCompetition"}}}}}}},"/api/competitions/name/{competitionName}":{"get":{"tags":["比赛管理"],"operationId":"getCompetitionByName","parameters":[{"name":"competitionName","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseCompetition"}}}}}}},"/api/competition-status/{competitionId}/round/{roundNumber}":{"get":{"tags":["比赛状态"],"summary":"查询指定轮次比赛状态","description":"查询指定比赛指定轮次的状态信息","operationId":"getCompetitionStatus","parameters":[{"name":"competitionId","in":"path","description":"比赛ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"roundNumber","in":"path","description":"轮次编号","required":true,"schema":{"type":"integer","format":"int32"},"example":1}],"responses":{"200":{"description":"查询成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}},"404":{"description":"比赛或轮次不存在","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseCompetitionStatusResponse"}}}}}}},"/api/competition-status/{competitionId}/current":{"get":{"tags":["比赛状态"],"operationId":"getCurrentRoundStatus","parameters":[{"name":"competitionId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseCompetitionStatusResponse"}}}}}}},"/api/competition-rules/search":{"get":{"tags":["比赛规则管理"],"operationId":"searchCompetitionRules","parameters":[{"name":"ruleName","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListCompetitionRule"}}}}}}},"/api/competition-rules/name/{ruleName}":{"get":{"tags":["比赛规则管理"],"operationId":"getCompetitionRuleByName","parameters":[{"name":"ruleName","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseCompetitionRule"}}}}}}},"/api/advancement/competition/{competitionId}/round/{roundNumber}/teams":{"get":{"tags":["晋级管理"],"operationId":"getTeamsInRound","parameters":[{"name":"competitionId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"roundNumber","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListTeamRoundStatus"}}}}}}},"/api/advancement/competition/{competitionId}/round/{roundNumber}/players":{"get":{"tags":["晋级管理"],"operationId":"getPlayersInRound","parameters":[{"name":"competitionId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"roundNumber","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListPlayerRoundStatus"}}}}}}},"/api/advancement/competition/{competitionId}/max-round":{"get":{"tags":["晋级管理"],"operationId":"getCurrentMaxRound","parameters":[{"name":"competitionId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseInteger"}}}}}}},"/api/admin/list":{"get":{"tags":["管理员功能"],"operationId":"getAllAdmins","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListAdmin"}}}}}}},"/api/admin/has-super-admin":{"get":{"tags":["管理员功能"],"operationId":"hasSuperAdmin","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseBoolean"}}}}}}},"/api/admin/active":{"get":{"tags":["管理员功能"],"operationId":"getActiveAdmins","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListAdmin"}}}}}}}},"components":{"schemas":{"Player":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"password":{"type":"string"},"qq":{"type":"string"},"nickname":{"type":"string"},"mahjongId":{"type":"string"},"mahjongNickname":{"type":"string"},"isActive":{"type":"boolean"},"lastLoginTime":{"type":"string","format":"date-time"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"description":"玩家注册信息"},"ApiResponsePlayer":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"$ref":"#/components/schemas/Player"}},"description":"统一响应结果"},"Competition":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"competitionName":{"type":"string"},"description":{"type":"string"},"competitionType":{"type":"string","enum":["TEAM","INDIVIDUAL"]},"maxParticipants":{"type":"integer","format":"int32"},"rule":{"$ref":"#/components/schemas/CompetitionRule"},"registrationStartTime":{"type":"string","format":"date-time"},"registrationDeadline":{"type":"string","format":"date-time"},"startTime":{"type":"string","format":"date-time"},"endTime":{"type":"string","format":"date-time"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"registrationClosed":{"type":"boolean"}}},"CompetitionRule":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"ruleName":{"type":"string"},"originPoints":{"type":"integer","format":"int32"},"firstPlacePoints":{"type":"integer","format":"int32"},"secondPlacePoints":{"type":"integer","format":"int32"},"thirdPlacePoints":{"type":"integer","format":"int32"},"fourthPlacePoints":{"type":"integer","format":"int32"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"description":"比赛规则信息"},"MatchResult":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"competition":{"$ref":"#/components/schemas/Competition"},"roundNumber":{"type":"integer","format":"int32"},"matchNumber":{"type":"integer","format":"int32"},"matchName":{"type":"string"},"eastPlayer":{"$ref":"#/components/schemas/Player"},"eastScore":{"type":"integer","format":"int32"},"eastPenalty":{"type":"integer","format":"int32"},"eastPtScore":{"type":"number","format":"double"},"southPlayer":{"$ref":"#/components/schemas/Player"},"southScore":{"type":"integer","format":"int32"},"southPenalty":{"type":"integer","format":"int32"},"southPtScore":{"type":"number","format":"double"},"westPlayer":{"$ref":"#/components/schemas/Player"},"westScore":{"type":"integer","format":"int32"},"westPenalty":{"type":"integer","format":"int32"},"westPtScore":{"type":"number","format":"double"},"northPlayer":{"$ref":"#/components/schemas/Player"},"northScore":{"type":"integer","format":"int32"},"northPenalty":{"type":"integer","format":"int32"},"northPtScore":{"type":"number","format":"double"},"totalScore":{"type":"integer","format":"int32"},"matchTime":{"type":"string","format":"date-time"},"remarks":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"validTotalScore":{"type":"boolean"}}},"ApiResponseMatchResult":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"$ref":"#/components/schemas/MatchResult"}},"description":"统一响应结果"},"ApiResponseCompetition":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"$ref":"#/components/schemas/Competition"}},"description":"统一响应结果"},"ApiResponseCompetitionRule":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"$ref":"#/components/schemas/CompetitionRule"}},"description":"统一响应结果"},"ApiResponseTeamRoundStatus":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"$ref":"#/components/schemas/TeamRoundStatus"}},"description":"统一响应结果"},"Team":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"teamName":{"type":"string"},"teamCode":{"type":"string"},"captainId":{"type":"integer","format":"int64"},"maxMembers":{"type":"integer","format":"int32"},"currentMembers":{"type":"integer","format":"int32"},"isActive":{"type":"boolean"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"TeamRoundStatus":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"team":{"$ref":"#/components/schemas/Team"},"competition":{"$ref":"#/components/schemas/Competition"},"roundNumber":{"type":"integer","format":"int32"},"initialScore":{"type":"integer","format":"int32"},"currentScore":{"type":"integer","format":"int32"},"status":{"type":"string","enum":["ACTIVE","ADVANCED","ELIMINATED","COMPLETED"]},"isEliminated":{"type":"boolean"},"eliminationTime":{"type":"string","format":"date-time"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"description":"响应数据"},"ApiResponsePlayerRoundStatus":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"$ref":"#/components/schemas/PlayerRoundStatus"}},"description":"统一响应结果"},"PlayerRoundStatus":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"player":{"$ref":"#/components/schemas/Player"},"competition":{"$ref":"#/components/schemas/Competition"},"roundNumber":{"type":"integer","format":"int32"},"initialScore":{"type":"integer","format":"int32"},"currentScore":{"type":"integer","format":"int32"},"status":{"type":"string","enum":["ACTIVE","ADVANCED","ELIMINATED","COMPLETED"]},"isEliminated":{"type":"boolean"},"eliminationTime":{"type":"string","format":"date-time"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"description":"响应数据"},"ApiResponseString":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"type":"string","description":"响应数据"}},"description":"统一响应结果"},"Admin":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"password":{"type":"string"},"email":{"type":"string"},"name":{"type":"string"},"role":{"type":"string"},"isActive":{"type":"boolean"},"lastLoginTime":{"type":"string","format":"date-time"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"ApiResponseAdmin":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"$ref":"#/components/schemas/Admin"}},"description":"统一响应结果"},"ApiResponseTeam":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"$ref":"#/components/schemas/Team"}},"description":"统一响应结果"},"ApiResponse":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"type":"object","description":"响应数据"}},"description":"统一响应结果"},"CompetitionRegistrationRequest":{"required":["competitionId"],"type":"object","properties":{"competitionId":{"type":"integer","description":"比赛ID","format":"int64","example":1}},"description":"比赛报名请求信息"},"ApiResponsePlayerCompetitionRegistration":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"$ref":"#/components/schemas/PlayerCompetitionRegistration"}},"description":"统一响应结果"},"PlayerCompetitionRegistration":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"player":{"$ref":"#/components/schemas/Player"},"competition":{"$ref":"#/components/schemas/Competition"},"status":{"type":"string","enum":["REGISTERED","CONFIRMED","CANCELLED","WITHDRAWN"]},"registrationTime":{"type":"string","format":"date-time"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"description":"响应数据"},"TeamCompetitionRegistrationRequest":{"required":["competitionId","teamId"],"type":"object","properties":{"competitionId":{"type":"integer","description":"比赛ID","format":"int64","example":1},"teamId":{"type":"integer","description":"团队ID","format":"int64","example":1}},"description":"团队比赛报名请求"},"ApiResponseTeamCompetitionRegistration":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"$ref":"#/components/schemas/TeamCompetitionRegistration"}},"description":"统一响应结果"},"TeamCompetitionRegistration":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"team":{"$ref":"#/components/schemas/Team"},"competition":{"$ref":"#/components/schemas/Competition"},"status":{"type":"string","enum":["REGISTERED","CONFIRMED","CANCELLED","WITHDRAWN"]},"registrationTime":{"type":"string","format":"date-time"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"description":"响应数据"},"MatchResultCreateRequest":{"required":["competitionId","eastPlayerId","eastScore","matchNumber","northPlayerId","northScore","roundNumber","southPlayerId","southScore","westPlayerId","westScore"],"type":"object","properties":{"competitionId":{"type":"integer","description":"比赛ID","format":"int64","example":1},"roundNumber":{"type":"integer","description":"轮次编号，如：1表示第一轮，2表示第二轮","format":"int32","example":1},"matchNumber":{"type":"integer","description":"比赛编号","format":"int32","example":1},"matchName":{"type":"string","description":"比赛名称","example":"第一轮第一场"},"eastPlayerId":{"type":"integer","description":"东家玩家ID","format":"int64","example":1},"eastScore":{"type":"integer","description":"东家得分","format":"int32","example":1000},"eastPenalty":{"type":"integer","description":"东家罚分","format":"int32","example":0},"southPlayerId":{"type":"integer","description":"南家玩家ID","format":"int64","example":2},"southScore":{"type":"integer","description":"南家得分","format":"int32","example":800},"southPenalty":{"type":"integer","description":"南家罚分","format":"int32","example":0},"westPlayerId":{"type":"integer","description":"西家玩家ID","format":"int64","example":3},"westScore":{"type":"integer","description":"西家得分","format":"int32","example":1200},"westPenalty":{"type":"integer","description":"西家罚分","format":"int32","example":0},"northPlayerId":{"type":"integer","description":"北家玩家ID","format":"int64","example":4},"northScore":{"type":"integer","description":"北家得分","format":"int32","example":1000},"northPenalty":{"type":"integer","description":"北家罚分","format":"int32","example":0},"remarks":{"type":"string","description":"备注信息","example":"比赛顺利进行"}},"description":"比赛成绩创建请求"},"ScoreValidationRequest":{"type":"object","properties":{"eastScore":{"type":"integer","format":"int32"},"southScore":{"type":"integer","format":"int32"},"westScore":{"type":"integer","format":"int32"},"northScore":{"type":"integer","format":"int32"}}},"ApiResponseBoolean":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"type":"boolean","description":"响应数据"}},"description":"统一响应结果"},"CompetitionCreateRequest":{"required":["name","registrationEndTime","ruleId","type"],"type":"object","properties":{"name":{"type":"string","description":"比赛名称","example":"2024年麻将锦标赛"},"description":{"type":"string","description":"比赛描述","example":"年度重要比赛"},"type":{"type":"string","description":"比赛类型","example":"INDIVIDUAL","enum":["INDIVIDUAL","TEAM"]},"maxParticipants":{"type":"integer","description":"最大参与人数","format":"int32","example":64},"registrationStartTime":{"type":"string","description":"报名开始时间","format":"date-time"},"registrationEndTime":{"type":"string","description":"报名结束时间","format":"date-time"},"startTime":{"type":"string","description":"比赛开始时间","format":"date-time"},"endTime":{"type":"string","description":"比赛结束时间","format":"date-time"},"ruleId":{"type":"integer","description":"比赛规则ID","format":"int64","example":1}},"description":"比赛创建请求信息"},"ApiResponseListTeamRoundStatus":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"type":"array","description":"响应数据","items":{"$ref":"#/components/schemas/TeamRoundStatus"}}},"description":"统一响应结果"},"ApiResponseListPlayerRoundStatus":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"type":"array","description":"响应数据","items":{"$ref":"#/components/schemas/PlayerRoundStatus"}}},"description":"统一响应结果"},"LoginRequest":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}}},"AdminLoginResponse":{"type":"object","properties":{"token":{"type":"string"},"username":{"type":"string"},"name":{"type":"string"},"role":{"type":"string"},"email":{"type":"string"}},"description":"响应数据"},"ApiResponseAdminLoginResponse":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"$ref":"#/components/schemas/AdminLoginResponse"}},"description":"统一响应结果"},"ApiResponseListTeamMember":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"type":"array","description":"响应数据","items":{"$ref":"#/components/schemas/TeamMember"}}},"description":"统一响应结果"},"TeamMember":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"teamId":{"type":"integer","format":"int64"},"player":{"$ref":"#/components/schemas/Player"},"joinTime":{"type":"string","format":"date-time"},"isActive":{"type":"boolean"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"description":"响应数据"},"ApiResponseListTeam":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"type":"array","description":"响应数据","items":{"$ref":"#/components/schemas/Team"}}},"description":"统一响应结果"},"ApiResponseListPlayer":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"type":"array","description":"响应数据","items":{"$ref":"#/components/schemas/Player"}}},"description":"统一响应结果"},"ApiResponsePlayerTeamsResponse":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"$ref":"#/components/schemas/PlayerTeamsResponse"}},"description":"统一响应结果"},"PlayerTeamsResponse":{"type":"object","properties":{"createdTeams":{"type":"array","items":{"$ref":"#/components/schemas/Team"}},"joinedTeams":{"type":"array","items":{"$ref":"#/components/schemas/Team"}}},"description":"响应数据"},"ApiResponseMapStringBoolean":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"type":"object","additionalProperties":{"type":"boolean","description":"响应数据"},"description":"响应数据"}},"description":"统一响应结果"},"ApiResponseListPlayerCompetitionRegistration":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"type":"array","description":"响应数据","items":{"$ref":"#/components/schemas/PlayerCompetitionRegistration"}}},"description":"统一响应结果"},"ApiResponseListPlayerRank":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"type":"array","description":"响应数据","items":{"$ref":"#/components/schemas/PlayerRank"}}},"description":"统一响应结果"},"PlayerRank":{"type":"object","properties":{"player":{"$ref":"#/components/schemas/Player"},"score":{"type":"integer","format":"int32"},"penalty":{"type":"integer","format":"int32"},"position":{"type":"string"},"rank":{"type":"integer","format":"int32"},"actualPoints":{"type":"number","format":"double"}},"description":"响应数据"},"ApiResponseMatchResultDetail":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"$ref":"#/components/schemas/MatchResultDetail"}},"description":"统一响应结果"},"MatchResultDetail":{"type":"object","properties":{"matchResult":{"$ref":"#/components/schemas/MatchResult"},"playerRanks":{"type":"array","items":{"$ref":"#/components/schemas/PlayerRank"}}},"description":"响应数据"},"ApiResponseListMatchResult":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"type":"array","description":"响应数据","items":{"$ref":"#/components/schemas/MatchResult"}}},"description":"统一响应结果"},"ApiResponseListRoundRecordDTO":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"type":"array","description":"响应数据","items":{"$ref":"#/components/schemas/RoundRecordDTO"}}},"description":"统一响应结果"},"RoundRecordDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"matchNumber":{"type":"integer","format":"int32"},"matchName":{"type":"string"},"eastPlayerName":{"type":"string"},"eastScore":{"type":"integer","format":"int32"},"eastPenalty":{"type":"integer","format":"int32"},"southPlayerName":{"type":"string"},"southScore":{"type":"integer","format":"int32"},"southPenalty":{"type":"integer","format":"int32"},"westPlayerName":{"type":"string"},"westScore":{"type":"integer","format":"int32"},"westPenalty":{"type":"integer","format":"int32"},"northPlayerName":{"type":"string"},"northScore":{"type":"integer","format":"int32"},"northPenalty":{"type":"integer","format":"int32"},"matchTime":{"type":"string"},"remarks":{"type":"string"}},"description":"响应数据"},"ApiResponseListPlayerRoundRanking":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"type":"array","description":"响应数据","items":{"$ref":"#/components/schemas/PlayerRoundRanking"}}},"description":"统一响应结果"},"PlayerRoundRanking":{"type":"object","properties":{"player":{"$ref":"#/components/schemas/Player"},"competition":{"$ref":"#/components/schemas/Competition"},"roundNumber":{"type":"integer","format":"int32"},"totalActualPoints":{"type":"number","format":"double"},"totalOriginalScore":{"type":"integer","format":"int32"},"totalPenalty":{"type":"integer","format":"int32"},"matchCount":{"type":"integer","format":"int32"},"firstPlaceCount":{"type":"integer","format":"int32"},"secondPlaceCount":{"type":"integer","format":"int32"},"thirdPlaceCount":{"type":"integer","format":"int32"},"fourthPlaceCount":{"type":"integer","format":"int32"},"averagePosition":{"type":"number","format":"double"},"rank":{"type":"integer","format":"int32"},"mahjongId":{"type":"string"},"playerName":{"type":"string"}},"description":"响应数据"},"ApiResponseListPlayerRankingDTO":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"type":"array","description":"响应数据","items":{"$ref":"#/components/schemas/PlayerRankingDTO"}}},"description":"统一响应结果"},"PlayerRankingDTO":{"type":"object","properties":{"rank":{"type":"integer","format":"int32"},"playerId":{"type":"integer","format":"int64"},"playerName":{"type":"string"},"mahjongId":{"type":"string"},"totalActualPoints":{"type":"number","format":"double"},"totalOriginalScore":{"type":"integer","format":"int32"},"totalPenalty":{"type":"integer","format":"int32"},"matchCount":{"type":"integer","format":"int32"},"firstPlaceCount":{"type":"integer","format":"int32"},"secondPlaceCount":{"type":"integer","format":"int32"},"thirdPlaceCount":{"type":"integer","format":"int32"},"fourthPlaceCount":{"type":"integer","format":"int32"},"averagePosition":{"type":"number","format":"double"}},"description":"响应数据"},"ApiResponsePlayerRoundRanking":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"$ref":"#/components/schemas/PlayerRoundRanking"}},"description":"统一响应结果"},"ApiResponseDouble":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"type":"number","description":"响应数据","format":"double"}},"description":"统一响应结果"},"ApiResponseInteger":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"type":"integer","description":"响应数据","format":"int32"}},"description":"统一响应结果"},"ApiResponseListCompetition":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"type":"array","description":"响应数据","items":{"$ref":"#/components/schemas/Competition"}}},"description":"统一响应结果"},"ApiResponseCompetitionStatusResponse":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"$ref":"#/components/schemas/CompetitionStatusResponse"}},"description":"统一响应结果"},"CompetitionStatusResponse":{"type":"object","properties":{"competitionId":{"type":"integer","format":"int64"},"roundNumber":{"type":"integer","format":"int32"},"competitionName":{"type":"string"},"competitionType":{"type":"string"},"playerStatusList":{"type":"array","items":{"$ref":"#/components/schemas/PlayerStatusInfo"}},"teamStatusList":{"type":"array","items":{"$ref":"#/components/schemas/TeamStatusInfo"}}},"description":"响应数据"},"PlayerStatusInfo":{"type":"object","properties":{"playerId":{"type":"integer","format":"int64"},"playerName":{"type":"string"},"username":{"type":"string"},"initialScore":{"type":"integer","format":"int32"},"currentRoundScore":{"type":"integer","format":"int32"},"totalScore":{"type":"integer","format":"int32"},"appearanceCount":{"type":"integer","format":"int32"},"averagePosition":{"type":"number","format":"double"},"firstPlaceCount":{"type":"integer","format":"int32"},"secondPlaceCount":{"type":"integer","format":"int32"},"thirdPlaceCount":{"type":"integer","format":"int32"},"fourthPlaceCount":{"type":"integer","format":"int32"},"status":{"type":"string"}}},"TeamMemberScore":{"type":"object","properties":{"playerId":{"type":"integer","format":"int64"},"playerName":{"type":"string"},"username":{"type":"string"},"individualScore":{"type":"integer","format":"int32"}}},"TeamStatusInfo":{"type":"object","properties":{"teamId":{"type":"integer","format":"int64"},"teamName":{"type":"string"},"teamCode":{"type":"string"},"initialScore":{"type":"integer","format":"int32"},"currentRoundScore":{"type":"integer","format":"int32"},"totalScore":{"type":"integer","format":"int32"},"appearanceCount":{"type":"integer","format":"int32"},"averagePosition":{"type":"number","format":"double"},"firstPlaceCount":{"type":"integer","format":"int32"},"secondPlaceCount":{"type":"integer","format":"int32"},"thirdPlaceCount":{"type":"integer","format":"int32"},"fourthPlaceCount":{"type":"integer","format":"int32"},"status":{"type":"string"},"memberScores":{"type":"array","items":{"$ref":"#/components/schemas/TeamMemberScore"}},"playerStatusList":{"type":"array","items":{"$ref":"#/components/schemas/PlayerStatusInfo"}}}},"ApiResponseListCompetitionRule":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"type":"array","description":"响应数据","items":{"$ref":"#/components/schemas/CompetitionRule"}}},"description":"统一响应结果"},"ApiResponseListAdmin":{"type":"object","properties":{"code":{"type":"integer","description":"响应状态码，0表示成功，负数表示失败","format":"int32","example":0},"message":{"type":"string","description":"响应消息","example":"请求成功"},"data":{"type":"array","description":"响应数据","items":{"$ref":"#/components/schemas/Admin"}}},"description":"统一响应结果"}},"securitySchemes":{"bearerAuth":{"type":"http","description":"请在请求头中添加 'Authorization: Bearer {token}'","scheme":"bearer","bearerFormat":"JWT"}}}}